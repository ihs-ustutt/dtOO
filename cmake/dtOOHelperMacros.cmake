MACRO(APPEND_DTOO_SOURCE DIRNAME FILES)
  foreach(FILE ${FILES})
    list(APPEND LIST ${DIRNAME}/${FILE})
  endforeach(FILE)
  set(DTOO_SOURCES ${DTOO_SOURCES};${LIST} PARENT_SCOPE)
ENDMACRO(APPEND_DTOO_SOURCE)

MACRO(APPEND_DTOO_HEADER DIRNAME FILES)
  foreach(FILE ${FILES})
    list(APPEND LIST ${DIRNAME}/${FILE})
  endforeach(FILE)
  set(DTOO_HEADERS ${DTOO_HEADERS};${LIST} PARENT_SCOPE)
ENDMACRO(APPEND_DTOO_HEADER)

MACRO(CHECK_DTOO_LIBRARIES MODULENAME)
  USE_OpenCASCADE()
  USE_CGAL()
  USE_GMSH()
  USE_MUPARSER()
  USE_BOOST()
  USE_ROOT()
  USE_GSL()
  IF(DTOO_USE_GOOGLEPERFTOOLS)
    ADD_DEFINITIONS(-DDTOO_USE_GOOGLEPROFTOOLS)
    USE_GOOGLEPERFTOOLS()
  ENDIF(DTOO_USE_GOOGLEPERFTOOLS)

  IF (CGAL_FOUND AND MUPARSER_FOUND AND GMSH_FOUND AND Boost_FOUND AND OpenCASCADE_FOUND AND ROOT_FOUND AND GSL_FOUND)
    MESSAGE(STATUS "IHS::compiling ${MODULENAME}")
  ELSE (CGAL_FOUND AND MUPARSER_FOUND AND GMSH_FOUND AND Boost_FOUND AND OpenCASCADE_FOUND AND ROOT_FOUND AND GSL_FOUND)
    MESSAGE("IHS::skipping ${MODULENAME}, because of missing libraries")
    MESSAGE("IHS::CGAL_FOUND=${CGAL_FOUND}")
    MESSAGE("IHS::MUPARSER_FOUND=${MUPARSER_FOUND}")
    MESSAGE("IHS::GMSH_FOUND=${GMSH_FOUND}")
    MESSAGE("IHS::Boost_FOUND=${Boost_FOUND}")
    MESSAGE("IHS::OpenCASCADE_FOUND=${OpenCASCADE_FOUND}")
    MESSAGE("IHS::ROOT_FOUND=${ROOT_FOUND}")
    MESSAGE("IHS::GSL_FOUND=${GSL_FOUND}")
    RETURN()
  ENDIF (CGAL_FOUND AND MUPARSER_FOUND AND GMSH_FOUND AND Boost_FOUND AND OpenCASCADE_FOUND AND ROOT_FOUND AND GSL_FOUND)
ENDMACRO(CHECK_DTOO_LIBRARIES)
